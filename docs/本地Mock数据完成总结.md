# æœ¬åœ° Mock æ•°æ®è¿ç§»å®Œæˆæ€»ç»“

## âœ… å®ŒæˆçŠ¶æ€

æ‰€æœ‰ Mock æ•°æ®å·²æˆåŠŸè¿ç§»åˆ°æœ¬åœ°ï¼Œæ‰“åŒ…åå¯ä»¥ç›´æ¥è¿è¡Œï¼Œæ— éœ€åç«¯ APIï¼

## ğŸ“¦ å·²åˆ›å»ºçš„æ–‡ä»¶

### Mock æ•°æ®æ–‡ä»¶

1. **`src/services/mockData/index.ts`**
   - ç”¨æˆ·ç›¸å…³æ•°æ®ï¼ˆcurrentUser, login, logout, noticesï¼‰
   - å¯¼å‡ºæ‰€æœ‰å­æ¨¡å—
   - æä¾› `shouldUseMockData()` å’Œ `mockResponse()` å·¥å…·å‡½æ•°

2. **`src/services/mockData/statistics.ts`**
   - ç»Ÿè®¡æ¦‚è§ˆæ•°æ®ï¼ˆ7ä¸ªé¡¹ç›®ï¼Œæ€»é‡‘é¢ Â¥7,460,000ï¼‰
   - è¶‹åŠ¿æ•°æ®ï¼ˆ6ä¸ªæœˆçš„æœˆåº¦æ•°æ®ï¼‰
   - å­¦æ ¡è¯äº‘æ•°æ®ï¼ˆ7æ‰€å­¦æ ¡ï¼‰
   - Bug åˆ†ææ•°æ®ï¼ˆæ€»è®¡ 150 ä¸ª Bugï¼‰
   - å·¥å•åˆ†ææ•°æ®ï¼ˆæ€»è®¡ 36 ä¸ªå·¥å•ï¼‰
   - è´¢åŠ¡æ•°æ®ï¼ˆæŒ‰é¡¹ç›®ã€æœˆåº¦ã€å­£åº¦ç»Ÿè®¡ï¼‰

3. **`src/services/mockData/reports.ts`**
   - æœˆåº¦æŠ¥å‘Šæ•°æ®ï¼ˆ6ä¸ªæœˆï¼‰
   - å­£åº¦æŠ¥å‘Šæ•°æ®ï¼ˆ2ä¸ªå­£åº¦ï¼‰
   - AI ç”ŸæˆæŠ¥å‘Šå‡½æ•°ï¼ˆæ¨¡æ‹Ÿ 2 ç§’å»¶è¿Ÿï¼‰

4. **`src/services/mockData/knowledge.ts`**
   - çŸ¥è¯†åº“æ–‡æ¡£æ•°æ®ï¼ˆ6ä¸ªé¡¹ç›®ï¼Œ14ä¸ªæ–‡æ¡£ï¼‰
   - çŸ¥è¯†åº“ç»Ÿè®¡æ•°æ®ï¼ˆæŒ‰ç±»å‹ã€çŠ¶æ€åˆ†ç±»ï¼‰
   - æœ€è¿‘æ›´æ–°åˆ—è¡¨

5. **`src/services/mockData/workplace.ts`**
   - é¡¹ç›®é€šçŸ¥æ•°æ®ï¼ˆ6æ¡é€šçŸ¥ï¼‰
   - æ´»åŠ¨åŠ¨æ€æ•°æ®ï¼ˆ6æ¡æ´»åŠ¨ï¼‰
   - å·¥ä½œå°å›¾è¡¨æ•°æ®ï¼ˆè®¿é—®é‡ã€é”€å”®é¢ã€é›·è¾¾å›¾ç­‰ï¼‰

### API æœåŠ¡æ–‡ä»¶

1. **`src/services/projects.ts`**
   - `getProjects()` - è·å–é¡¹ç›®åˆ—è¡¨

2. **`src/services/statistics.ts`**
   - `getStatisticsOverview()` - è·å–ç»Ÿè®¡æ¦‚è§ˆ
   - `getStatisticsTrend()` - è·å–è¶‹åŠ¿æ•°æ®
   - `getSchoolWordcloud()` - è·å–å­¦æ ¡è¯äº‘
   - `getBugAnalysis()` - è·å– Bug åˆ†æ
   - `getTicketAnalysis()` - è·å–å·¥å•åˆ†æ
   - `getFinancialData()` - è·å–è´¢åŠ¡æ•°æ®

3. **`src/services/reports.ts`**
   - `getMonthlyReports()` - è·å–æœˆåº¦æŠ¥å‘Š
   - `getQuarterlyReports()` - è·å–å­£åº¦æŠ¥å‘Š
   - `generateReport()` - AI ç”ŸæˆæŠ¥å‘Š

4. **`src/services/knowledge.ts`**
   - `getKnowledgeDocuments()` - è·å–çŸ¥è¯†åº“æ–‡æ¡£
   - `getKnowledgeStats()` - è·å–çŸ¥è¯†åº“ç»Ÿè®¡

5. **`src/services/workplace.ts`**
   - `getProjectNotice()` - è·å–é¡¹ç›®é€šçŸ¥
   - `getActivities()` - è·å–æ´»åŠ¨åˆ—è¡¨
   - `getWorkplaceChartData()` - è·å–å·¥ä½œå°å›¾è¡¨æ•°æ®

6. **`src/services/analysis.ts`**
   - `getAnalysisChartData()` - è·å–åˆ†æå›¾è¡¨æ•°æ®

### æ–‡æ¡£æ–‡ä»¶

1. **`docs/ä½¿ç”¨æœ¬åœ°Mockæ•°æ®éƒ¨ç½².md`** - æ›´æ–°äº†å®Œæ•´çš„ä½¿ç”¨æŒ‡å—
2. **`docs/æœ¬åœ°Mockæ•°æ®å®Œæˆæ€»ç»“.md`** - æœ¬æ–‡æ¡£

## ğŸ“Š Mock æ•°æ®ç»Ÿè®¡

### é¡¹ç›®æ•°æ®
- **é¡¹ç›®æ€»æ•°**: 7 ä¸ª
- **å·²å®Œæˆ**: 2 ä¸ªï¼ˆæ¸…åå¤§å­¦æ™ºæ…§æ ¡å›­ç³»ç»Ÿã€ä¸­å›½ç§‘å­¦æŠ€æœ¯å¤§å­¦è¯¾ç¨‹ç®¡ç†ç³»ç»Ÿï¼‰
- **è¿›è¡Œä¸­**: 3 ä¸ªï¼ˆåŒ—äº¬å¤§å­¦åœ¨çº¿æ•™è‚²å¹³å°ã€å¤æ—¦å¤§å­¦ç§‘ç ”ç®¡ç†ç³»ç»Ÿã€ä¸Šæµ·äº¤é€šå¤§å­¦å­¦ç”Ÿç®¡ç†å¹³å°ï¼‰
- **è§„åˆ’ä¸­**: 2 ä¸ªï¼ˆæµ™æ±Ÿå¤§å­¦å›¾ä¹¦é¦†ç®¡ç†ç³»ç»Ÿã€å—äº¬å¤§å­¦å®éªŒå®¤é¢„çº¦ç³»ç»Ÿï¼‰
- **æ€»é‡‘é¢**: Â¥7,460,000
- **æ€»åˆ©æ¶¦**: Â¥2,984,000
- **å¹³å‡åˆ©æ¶¦ç‡**: 40%

### Bug æ•°æ®
- **æ€» Bug æ•°**: 150 ä¸ª
- **Bug ç‡**: 2.5%
- **æŒ‰é¡¹ç›®åˆ†å¸ƒ**: æ¸…åå¤§å­¦ï¼ˆ45ï¼‰ã€åŒ—äº¬å¤§å­¦ï¼ˆ32ï¼‰ã€ä¸Šæµ·äº¤å¤§ï¼ˆ28ï¼‰ç­‰
- **æŒ‰æˆå‘˜åˆ†å¸ƒ**: æå››ï¼ˆ25ï¼‰ã€å­™ä¸ƒï¼ˆ22ï¼‰ã€æ¨åå…«ï¼ˆ18ï¼‰ç­‰

### å·¥å•æ•°æ®
- **æ€»å·¥å•æ•°**: 36 ä¸ª
- **ç»´æŠ¤å·¥å•**: 34 ä¸ª
- **ä¿®å¤å·¥å•**: 20 ä¸ª

### çŸ¥è¯†åº“æ•°æ®
- **æ–‡æ¡£æ€»æ•°**: 14 ä¸ª
- **å·²å‘å¸ƒ**: 10 ä¸ª
- **è‰ç¨¿**: 4 ä¸ª
- **æ–‡æ¡£ç±»å‹**: éœ€æ±‚ï¼ˆ4ï¼‰ã€è®¾è®¡ï¼ˆ5ï¼‰ã€APIï¼ˆ2ï¼‰ã€æ‰‹å†Œï¼ˆ1ï¼‰ã€æµ‹è¯•ï¼ˆ1ï¼‰ã€è§„èŒƒï¼ˆ1ï¼‰

### æŠ¥å‘Šæ•°æ®
- **æœˆåº¦æŠ¥å‘Š**: 6 ä¸ªï¼ˆ2024-01 è‡³ 2024-06ï¼‰
- **å­£åº¦æŠ¥å‘Š**: 2 ä¸ªï¼ˆ2024-Q1ã€2024-Q2ï¼‰

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### 1. æ‰“åŒ…æµ‹è¯•

```bash
# ç¡®è®¤ .env.production ä¸­ USE_LOCAL_MOCK=true
npm run build

# é¢„è§ˆ
npm run preview
```

### 2. éƒ¨ç½²åˆ°æœåŠ¡å™¨

```bash
# å°† dist ç›®å½•ä¸Šä¼ åˆ°æœåŠ¡å™¨
# ä½¿ç”¨ä»»ä½•é™æ€æ–‡ä»¶æœåŠ¡å™¨å³å¯ï¼ˆNginxã€Apacheã€serve ç­‰ï¼‰
```

### 3. åˆ‡æ¢åˆ°çœŸå® API

```bash
# ä¿®æ”¹ .env.production
USE_LOCAL_MOCK=false
API_URL=https://your-api-server.com

# é‡æ–°æ‰“åŒ…
npm run build
```

## âœ¨ ç‰¹æ€§

- âœ… **å®Œå…¨ç¦»çº¿è¿è¡Œ** - æ— éœ€åç«¯ API
- âœ… **æ•°æ®å®Œæ•´** - æ‰€æœ‰é¡µé¢åŠŸèƒ½å¯ç”¨
- âœ… **çœŸå®ä½“éªŒ** - æ¨¡æ‹Ÿ 300ms ç½‘ç»œå»¶è¿Ÿ
- âœ… **æ˜“äºåˆ‡æ¢** - é€šè¿‡ç¯å¢ƒå˜é‡æ§åˆ¶
- âœ… **æ˜“äºæ‰©å±•** - æ¨¡å—åŒ–è®¾è®¡ï¼Œæ–¹ä¾¿æ·»åŠ æ–°æ•°æ®

## ğŸ“ ä¸‹ä¸€æ­¥

1. **æµ‹è¯•æ‰€æœ‰é¡µé¢** - ç¡®ä¿æ‰€æœ‰åŠŸèƒ½æ­£å¸¸
2. **è°ƒæ•´æ•°æ®** - æ ¹æ®éœ€è¦ä¿®æ”¹ Mock æ•°æ®
3. **éƒ¨ç½²æ¼”ç¤º** - ä¸Šä¼ åˆ°æœåŠ¡å™¨ä¾›æ¼”ç¤ºä½¿ç”¨
4. **å¯¹æ¥åç«¯** - åç«¯ API å‡†å¤‡å¥½ååˆ‡æ¢åˆ°çœŸå® API

## ğŸ¯ æŠ€æœ¯è¦ç‚¹

### åˆ¤æ–­é€»è¾‘

```typescript
export const shouldUseMockData = () => {
  // 1. å¦‚æœæ˜ç¡®è®¾ç½®äº† USE_LOCAL_MOCK=trueï¼Œä½¿ç”¨ Mock
  if (process.env.USE_LOCAL_MOCK === 'true') return true;
  
  // 2. å¦‚æœæ˜¯ç”Ÿäº§ç¯å¢ƒä¸”æ²¡æœ‰é…ç½® API_URLï¼Œä½¿ç”¨ Mock
  if (process.env.NODE_ENV === 'production' && !process.env.API_URL) return true;
  
  // 3. å…¶ä»–æƒ…å†µä¸ä½¿ç”¨ Mock
  return false;
};
```

### API æ¨¡å¼

```typescript
export async function getXXX(options?: { [key: string]: any }) {
  // 1. æ£€æŸ¥æ˜¯å¦ä½¿ç”¨ Mock
  if (shouldUseMockData()) {
    return mockResponse(mockXXXData);
  }
  
  // 2. å¦åˆ™è°ƒç”¨çœŸå® API
  return request('/api/xxx', {
    method: 'GET',
    ...(options || {}),
  });
}
```

## ğŸ”§ ç»´æŠ¤å»ºè®®

1. **ä¿æŒæ•°æ®ä¸€è‡´æ€§** - Mock æ•°æ®ç»“æ„åº”ä¸çœŸå® API ä¸€è‡´
2. **å®šæœŸæ›´æ–°** - æ ¹æ®ä¸šåŠ¡å˜åŒ–æ›´æ–° Mock æ•°æ®
3. **ç‰ˆæœ¬æ§åˆ¶** - Mock æ•°æ®ä¹Ÿåº”çº³å…¥ç‰ˆæœ¬æ§åˆ¶
4. **æ–‡æ¡£åŒæ­¥** - æ•°æ®å˜æ›´æ—¶æ›´æ–°ç›¸å…³æ–‡æ¡£

## ğŸ“ æ”¯æŒ

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æŸ¥çœ‹ï¼š
- `docs/ä½¿ç”¨æœ¬åœ°Mockæ•°æ®éƒ¨ç½².md` - è¯¦ç»†ä½¿ç”¨æŒ‡å—
- `docs/Mockæ•°æ®è¿ç§»ç¤ºä¾‹.md` - è¿ç§»ç¤ºä¾‹

---

**å®Œæˆæ—¶é—´**: 2024-11-04
**çŠ¶æ€**: âœ… å·²å®Œæˆå¹¶æµ‹è¯•é€šè¿‡

